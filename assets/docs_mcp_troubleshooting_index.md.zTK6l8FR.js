import{_ as e,c as o,o as r,a4 as a}from"./chunks/framework.I1cCAST3.js";const m=JSON.parse('{"title":"MCP 故障排除与最佳实践","description":"","frontmatter":{},"headers":[],"relativePath":"docs/mcp/troubleshooting/index.md","filePath":"docs/mcp/troubleshooting/index.md"}'),t={name:"docs/mcp/troubleshooting/index.md"},l=a('<h1 id="mcp-故障排除与最佳实践" tabindex="-1">MCP 故障排除与最佳实践 <a class="header-anchor" href="#mcp-故障排除与最佳实践" aria-label="Permalink to &quot;MCP 故障排除与最佳实践&quot;">​</a></h1><blockquote><p>本文汇总常见问题的定位方法、使用过程中的安全与性能建议，并集中提供 MCP 服务器的外部参考资源。</p></blockquote><h2 id="故障排除-troubleshooting" tabindex="-1">故障排除（Troubleshooting） <a class="header-anchor" href="#故障排除-troubleshooting" aria-label="Permalink to &quot;故障排除（Troubleshooting）&quot;">​</a></h2><h3 id="_1-一直是-connecting-无法连接" tabindex="-1">1. 一直是 connecting / 无法连接 <a class="header-anchor" href="#_1-一直是-connecting-无法连接" aria-label="Permalink to &quot;1. 一直是 connecting / 无法连接&quot;">​</a></h3><ul><li><strong>检查配置</strong>： <ul><li><strong>stdio</strong>：<code>command</code> 是否可执行？是否需要放入 <code>args</code>？<code>cwd</code> 是否存在？</li><li><strong>http</strong>：<code>url</code> 是否可访问？是否需要认证 <code>headers</code>？是否命中企业代理/证书？</li></ul></li><li><strong>查看通知/错误</strong>：界面会显示连接失败原因或 stderr 输出片段。</li><li><strong>适当增大 <code>timeout</code></strong>（单位秒），避免短超时导致误判失败。</li><li><strong>若你在开发本地服务器</strong>： <ul><li>观察构建产物（如 <code>build/index.js</code>）是否已生成且可执行。</li><li>变更构建产物后，等待自动重启；若未生效，尝试&quot;禁用 → 启用&quot;。</li></ul></li></ul><h3 id="_2-工具-tools-或资源-resources-为空" tabindex="-1">2. 工具（Tools）或资源（Resources）为空 <a class="header-anchor" href="#_2-工具-tools-或资源-resources-为空" aria-label="Permalink to &quot;2. 工具（Tools）或资源（Resources）为空&quot;">​</a></h3><ul><li>服务器已 <code>connected</code> 吗？若未连接，请先排查连接问题。</li><li>MCP 服务器是否本身就没有暴露工具/资源？参考其仓库文档确认。</li><li><strong>http 型</strong>：鉴权/headers 是否正确？是否返回 401/403？</li><li><strong>stdio 型</strong>：stderr 中是否提示依赖缺失/初始化失败？</li></ul><h3 id="_3-调用超时或不稳定" tabindex="-1">3. 调用超时或不稳定 <a class="header-anchor" href="#_3-调用超时或不稳定" aria-label="Permalink to &quot;3. 调用超时或不稳定&quot;">​</a></h3><ul><li>增大 <code>timeout</code>。</li><li>优先选择网络更稳定的节点或就近服务。</li><li>对 http 型，确认代理/网关未中断长连接/流式连接。</li><li>服务器负载高或冷启动慢时，适当放宽等待时间。</li></ul><h3 id="_4-权限-安全相关问题" tabindex="-1">4. 权限/安全相关问题 <a class="header-anchor" href="#_4-权限-安全相关问题" aria-label="Permalink to &quot;4. 权限/安全相关问题&quot;">​</a></h3><ul><li>谨慎设置 <code>env</code> 与 <code>headers</code>（尤其含凭证的字段），避免泄露。</li><li><code>autoApprove</code> 白名单仅添加信任工具，避免绕过二次确认带来的风险。</li><li>若服务器可访问本地文件或内部网络，建议最小权限原则和隔离（仅对需要的目录/接口开放）。</li></ul><h3 id="_5-其他定位思路" tabindex="-1">5. 其他定位思路 <a class="header-anchor" href="#_5-其他定位思路" aria-label="Permalink to &quot;5. 其他定位思路&quot;">​</a></h3><ul><li><strong>执行目标命令的最小复现</strong>：在终端中手动运行 <code>command</code>/<code>args</code>，确认是否能独立启动。</li><li><strong>查看服务器仓库的 README/issue</strong>，查询已知问题与解决方案。</li><li><strong>提交问题时携带必要信息</strong>：配置片段（隐去敏感数据）、日志/通知内容、系统与网络环境说明。</li></ul><h2 id="最佳实践-best-practices" tabindex="-1">最佳实践（Best Practices） <a class="header-anchor" href="#最佳实践-best-practices" aria-label="Permalink to &quot;最佳实践（Best Practices）&quot;">​</a></h2><h3 id="服务器选择" tabindex="-1">服务器选择 <a class="header-anchor" href="#服务器选择" aria-label="Permalink to &quot;服务器选择&quot;">​</a></h3><ul><li>优先选择维护活跃、社区口碑较好的服务器。</li><li>使用官方目录与精选合集快速筛选： <ul><li><a href="https://github.com/modelcontextprotocol/servers" target="_blank" rel="noreferrer">modelcontextprotocol/servers</a></li><li><a href="https://github.com/punkpeye/awesome-mcp-servers" target="_blank" rel="noreferrer">punkpeye/awesome-mcp-servers</a></li><li>目录站点（见&quot;参考资料&quot;）。</li></ul></li></ul><h3 id="安全" tabindex="-1">安全 <a class="header-anchor" href="#安全" aria-label="Permalink to &quot;安全&quot;">​</a></h3><ul><li><strong>最小权限</strong>：仅暴露必要的资源/目录/网络。</li><li><strong>谨慎 <code>autoApprove</code></strong>：仅将确定安全的工具加入白名单。</li><li><strong>审查 <code>env</code>/<code>headers</code></strong>：避免将令牌/密钥硬编码在共享环境。</li></ul><h3 id="性能与稳定" tabindex="-1">性能与稳定 <a class="header-anchor" href="#性能与稳定" aria-label="Permalink to &quot;性能与稳定&quot;">​</a></h3><ul><li>根据网络与服务性能调整 <code>timeout</code>。</li><li>对 http 型，确保代理与负载均衡对 SSE/流式响应友好。</li><li>对本地开发服务器，利用构建产物变更触发的自动重启，加快调试迭代。</li></ul><h3 id="可维护性" tabindex="-1">可维护性 <a class="header-anchor" href="#可维护性" aria-label="Permalink to &quot;可维护性&quot;">​</a></h3><ul><li><strong>统一命名与分组</strong>：为相同类型服务器使用前缀，便于检索与排序。</li><li><strong>定期备份配置文件</strong>；变更前后做好最小化验证。</li></ul><h2 id="参考资料-resources" tabindex="-1">参考资料（Resources） <a class="header-anchor" href="#参考资料-resources" aria-label="Permalink to &quot;参考资料（Resources）&quot;">​</a></h2><h3 id="github-仓库" tabindex="-1">GitHub 仓库 <a class="header-anchor" href="#github-仓库" aria-label="Permalink to &quot;GitHub 仓库&quot;">​</a></h3><ul><li><a href="https://github.com/modelcontextprotocol/servers" target="_blank" rel="noreferrer">modelcontextprotocol/servers</a></li><li><a href="https://github.com/punkpeye/awesome-mcp-servers" target="_blank" rel="noreferrer">punkpeye/awesome-mcp-servers</a></li></ul><h3 id="在线目录" tabindex="-1">在线目录 <a class="header-anchor" href="#在线目录" aria-label="Permalink to &quot;在线目录&quot;">​</a></h3><ul><li><a href="https://mcpservers.org/" target="_blank" rel="noreferrer">mcpservers.org</a></li><li><a href="https://mcp.so/" target="_blank" rel="noreferrer">mcp.so</a></li><li><a href="https://glama.ai/mcp/servers" target="_blank" rel="noreferrer">glama.ai/mcp/servers</a></li></ul><h3 id="pulsemcp" tabindex="-1">PulseMCP <a class="header-anchor" href="#pulsemcp" aria-label="Permalink to &quot;PulseMCP&quot;">​</a></h3><ul><li><a href="https://www.pulsemcp.com/" target="_blank" rel="noreferrer">www.pulsemcp.com</a></li></ul><h3 id="教程视频" tabindex="-1">教程视频 <a class="header-anchor" href="#教程视频" aria-label="Permalink to &quot;教程视频&quot;">​</a></h3><ul><li><strong>AI-Driven Coder</strong>（构建与使用 MCP 服务器）： <ul><li><a href="https://www.youtube.com/watch?v=b5pqTNiuuJg" target="_blank" rel="noreferrer">YouTube 视频</a></li></ul></li></ul><h2 id="faq-常见问答" tabindex="-1">FAQ（常见问答） <a class="header-anchor" href="#faq-常见问答" aria-label="Permalink to &quot;FAQ（常见问答）&quot;">​</a></h2><p><strong>Q：为什么我点开工具没有&quot;立即执行&quot;的按钮？</strong></p><p>A：工具常在聊天或自动化流程中被调用；界面层面的&quot;启用/禁用&quot;是为了临时控制可用性，并不直接触发执行。</p><p><strong>Q：我在配置里把 <code>command</code> 和 <code>args</code> 合并写在一行可以吗？</strong></p><p>A：可以。若未提供 <code>args</code> 且 <code>command</code> 中存在空格，Chaterm 会自动解析（支持引号与转义）。</p><p><strong>Q：怎么手动重启某个服务器？</strong></p><p>A：若自动重启未触发，可通过&quot;禁用 → 启用&quot;来完成重连。</p><p><strong>Q：<code>autoApprove</code> 有什么风险？</strong></p><p>A：开启后，匹配的工具会自动批准执行，请仅对可信的、可预测的工具启用，减少误操作或越权风险。</p>',40),i=[l];function s(n,c,d,h,u,p){return r(),o("div",null,i)}const b=e(t,[["render",s]]);export{m as __pageData,b as default};
